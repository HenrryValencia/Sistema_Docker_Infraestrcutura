[mysqld]

# Basic
pid-file        = /var/run/mysqld/mysqld.pid
socket          = /var/run/mysqld/mysqld.sock
datadir         = /var/lib/mysql
bind-address    = 0.0.0.0
port            = 3306
default_authentication_plugin = mysql_native_password

# GTID
gtid_mode = ON
enforce_gtid_consistency = ON
log_slave_updates = ON
log_bin = binlog
binlog_format = ROW
binlog_checksum = NONE
master_info_repository = TABLE
relay_log_info_repository = TABLE
transaction_write_set_extraction = XXHASH64

# Group Replication
plugin_load_add = 'group_replication.so'
group_replication_group_name = "aaaaaaaa-bbbb-cccc-dddd-eeeeffff0000"
group_replication_start_on_boot = OFF
group_replication_bootstrap_group = OFF
group_replication_exit_state_action = READ_ONLY
group_replication_flow_control_mode = "QUOTA"
group_replication_transaction_size_limit = 150000000
group_replication_ip_whitelist = "192.168.196.0/24,127.0.0.1/8,172.16.0.0/12"
group_replication_group_seeds = "192.168.196.151:33061,192.168.196.115:33061,192.168.196.245:33061"

# Node-specific (node1 - macOS)
server_id = 1
auto_increment_increment = 3
auto_increment_offset = 1
report_host = 192.168.196.151
group_replication_local_address = "192.168.196.151:33061"
